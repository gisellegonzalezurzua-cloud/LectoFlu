<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Lectura en 1 Minuto</title>
<style>#valorVelocidad { font-size: 0.9rem; color: var(--accent); }
:root{--bg:#0f172a;--card:#020617;--text:#e5e7eb;--accent:#22d3ee;--button:#4f46e5;}
body.light{--bg:#f4f6f8;--card:#ffffff;--text:#111827;--accent:#22d3ee;}
body{margin:0;padding:1rem;font-family:Segoe UI,Arial,sans-serif;background:var(--bg);color:var(--text);}
.container{max-width:760px;margin:auto;background:var(--card);padding:1.5rem;border-radius:16px;box-shadow:0 10px 30px rgba(0,0,0,0.3);}
h1,h2{color:var(--accent);text-align:center;}
select,button,textarea,input[type=range]{width:100%;padding:.8rem;margin-top:.6rem;border-radius:10px;border:1px solid #475569;font-size:1rem;box-sizing:border-box;}
button{background:var(--button);color:#fff;cursor:pointer;transition:background 0.3s;}
button:hover{background:#3730a3;}
.texto{text-align:justify;line-height:1.6;font-size:var(--fontSize,1.15rem);margin-top:1rem;}
.timer{text-align:center;font-size:2rem;color:var(--accent);margin:.5rem 0;font-weight:bold;}
.progress{height:10px;background:#1e293b;border-radius:10px;overflow:hidden;margin-bottom:1rem;}
.progress-bar{height:100%;width:0%;background:var(--accent);transition:width 1s linear;}
.card{background:rgba(79,70,229,.1);padding:1rem;border-radius:14px;margin-top:1rem;border:1px solid rgba(255,255,255,0.2);}
.hidden{display:none;}
small{opacity:.8;}
#textoSeleccionado{display:flex;flex-wrap:wrap;gap:0.5rem;margin:1rem 0;}
#textoSeleccionado button{width:auto;flex:1 1 200px;min-width:150px;}

/* ğŸ  CINTA TRANSPORTADORA FLUIDEZ */
.contenedor-palabras {
  height: 80px; /* â† MÃ¡s bajo */
  overflow: hidden;
  position: relative;
  border: 2px solid var(--accent);
  border-radius: 10px;
  margin: 1rem 0;
  background: rgba(255,255,255,0.1);
  display: flex;
  align-items: center; /* â† Centra vertical */
}
.palabras-cinta {
  position: relative; /* â† Simplificado */
  white-space: nowrap;
  animation: cinta 60s linear infinite;
  margin: 0 auto;
}@keyframes cinta {
  0% { transform: translateX(100%) translateY(-50%); }
  100% { transform: translateX(-100%) translateY(-50%); }
}

/* Para el label del slider */
#valorVelocidad {
  font-size: 0.9rem;
  color: var(--accent);
}

</style>
</head>
<body>
<div class="container">
<h1>ğŸ“š Lectura en 1 Minuto</h1>
<button onclick="toggleConfig()">âš™ï¸ ConfiguraciÃ³n / Docente</button>
<div id="config" class="card hidden">
  <label><input type="checkbox" id="toggleTimer" checked> Activar cronÃ³metro</label><br>
  <label><input type="checkbox" id="toggleTheme" onchange="toggleTheme()"> Modo claro / oscuro</label><br>
  <label>TamaÃ±o de letra</label>
  <input type="range" min="1" max="1.6" step="0.1" value="1.15" onchange="cambiarFuente(this.value)"><br>
  
 <label>Velocidad cinta (seg) <strong>muy lenta</strong></label>
<input type="range" id="velocidadCinta" min="60" max="300" value="120" step="10" onchange="cambiarVelocidadCinta(this.value)"><br>
<small id="valorVelocidad">120 seg (lenta para bÃ¡sicos)</small><br>

  <hr>
  <strong>ğŸ”’ Modo docente</strong><br>
  <label><input type="checkbox" id="modoDocente"> Activar</label>
  <button onclick="exportarJSON()">â¬‡ Exportar biblioteca JSON</button>
</div>
<select id="nivel">
<option value="">Selecciona nivel</option>
<option value="2b">2Â° BÃ¡sico</option><option value="3b">3Â° BÃ¡sico</option><option value="4b">4Â° BÃ¡sico</option><option value="5b">5Â° BÃ¡sico</option><option value="6b">6Â° BÃ¡sico</option><option value="7b">7Â° BÃ¡sico</option><option value="8b">8Â° BÃ¡sico</option><option value="1m">1Â° Medio</option><option value="2m">2Â° Medio</option>
</select>
<button onclick="cargarTextos()">ğŸš€ Comenzar lectura</button>

<div id="lectura" class="hidden">
<div id="textoSeleccionado"></div>
<div class="timer" id="timer">60</div>
<div class="progress"><div id="barra" class="progress-bar"></div></div>
<div id="texto" class="texto"></div>
<button onclick="iniciarLectura()">â–¶ Iniciar</button>
<button onclick="mostrarJuego()">ğŸ“– Ir a preguntas</button>
<button onclick="document.getElementById('lectura').classList.add('hidden'); document.getElementById('fluidez').classList.remove('hidden');">âš¡ Fluidez Cinta</button>
<button onclick="document.getElementById('juego').classList.add('hidden'); document.getElementById('lectura').classList.remove('hidden');">â† Volver lectura</button>
</div>

<div id="juego" class="card hidden">
<h2>ğŸ§  Juego de cierre</h2>
<p id="p1"></p>
<p id="p2"></p>
<div id="respuestas" class="hidden"><small>Respuestas correctas (modo docente)</small></div>
<button onclick="irLectura()">â† Volver lectura</button>
</div>

<!-- âœ¨ FLUIDEZ CON CINTA TRANSPORTADORA -->
<div id="fluidez" class="card hidden">
<h2>âš¡ Fluidez Lectora (Cinta Transportadora)</h2>
<select id="tipoFluidez">
<option value="silabas">SÃ­labas sueltas</option>
<option value="palabras">Palabras rÃ¡pidas</option>
<option value="oraciones">Oraciones cortas</option>
</select>
<div class="timer" id="timerFluidez">30</div>
<div class="progress"><div id="barraFluidez" class="progress-bar"></div></div>
<div id="contenedorFluidez" class="contenedor-palabras">
  <div id="cintaFluidez" class="palabras-cinta" style="font-size:2.2rem; font-weight:bold; color:var(--text);">Â¡Selecciona nivel!</div>
</div>
<button onclick="iniciarFluidez()">â–¶ Iniciar Cinta (05 seg)</button>
<small id="puntuacionFluidez">Selecciona nivel y tipo de ejercicio</small>
<button onclick="irLectura()">â† Volver Lectura</button>
</div>

<div id="editor" class="card hidden">
<h2>âœï¸ Banco editable (docente)</h2>
<textarea id="editorTexto" rows="6" placeholder="Texto principal aquÃ­..."></textarea>
<textarea id="editorP1" rows="2" placeholder="Pregunta 1"></textarea>
<textarea id="editorP2" rows="2" placeholder="Pregunta 2"></textarea>
<button onclick="guardarEdicion()">ğŸ’¾ Guardar cambios</button>
</div>
</div>
<script>
const biblioteca={
"2b":[{"id":"2b-1",texto:"TomÃ¡s tenÃ­a un perro llamado Max que era muy curioso y juguetÃ³n y cada maÃ±ana salÃ­an juntos al patio para correr y saltar con una pelota roja que siempre se escondÃ­a bajo el Ã¡rbol grande del fondo mientras TomÃ¡s reÃ­a feliz y llamaba a su amigo peludo para seguir jugando sin parar hasta cansarse y volver tranquilos a la casa.",preguntas:["Â¿TomÃ¡s tenÃ­a un perro?","Â¿La pelota era roja?"],respuestas:["SÃ­","SÃ­"]},
  {id:"2b-2",texto:"LucÃ­a encontrÃ³ un conejito blanco en el jardÃ­n que temblaba de frÃ­o lo envolviÃ³ en una manta suave lo llevÃ³ a su casa le dio zanahoria fresca y le hizo una casita con cajitas de cartÃ³n el conejito saltÃ³ feliz y se convirtiÃ³ en su mejor amigo juguetÃ³n.",preguntas:["Â¿LucÃ­a encontrÃ³ un conejito?","Â¿El conejito saltÃ³ feliz?"],respuestas:["SÃ­","SÃ­"]},
  {id:"2b-3",texto:"En el bosque los tres cerditos construyeron casas Cacho hizo la suya de ladrillos fuerte Pecho de madera resistente y Colita de paja ligera llegÃ³ el lobo y soplÃ³ pero solo volÃ³ la paja los hermanos se unieron en la casa de ladrillos y festejaron victoriosos con pasteles dulces.",preguntas:["Â¿Los cerditos construyeron casas?","Â¿El lobo destruyÃ³ todas las casas?"],respuestas:["SÃ­","No"]}
],
"3b":[
  {id:"3b-1",texto:"SofÃ­a despertÃ³ temprano porque era el dÃ­a de la excursiÃ³n del curso y estaba muy emocionada preparÃ³ su mochila con agua y colaciÃ³n y durante el viaje en bus conversÃ³ con sus amigos mientras observaba cerros Ã¡rboles y nubes al llegar caminaron por un sendero aprendiendo sobre la naturaleza y al final regresÃ³ cansada pero muy feliz por lo vivido.",preguntas:["Â¿SofÃ­a fue a una excursiÃ³n?","Â¿VolviÃ³ triste a su casa?"],respuestas:["SÃ­","No"]},
  {id:"3b-2",texto:"Pedro el pequeÃ±o marinero soÃ±aba con aventuras en el mar todos los dÃ­as iba a la playa de su pueblo chileno a construir barcos con arena y palos un dÃ­a encontrÃ³ una botella con un mapa viejo que indicaba un tesoro escondido en la isla cercana emocionado reuniÃ³ a sus amigos Juanita y Mateo navegaron en un bote prestado enfrentaron olas grandes vieron gaviotas volando y finalmente hallaron el tesoro que era una caja llena de conchas brillantes y piedras de colores Pedro aprendiÃ³ que las mejores aventuras estÃ¡n en la amistad y la imaginaciÃ³n no en el oro y regresaron cantando canciones de marineros felices por su descubrimiento.",preguntas:["Â¿Pedro encontrÃ³ un mapa?","Â¿El tesoro era oro?"],respuestas:["SÃ­","No"]},
  {id:"3b-3",texto:"En la feria del colegio de 3Â° bÃ¡sico todos estaban emocionados con los juegos y dulces Daniela querÃ­a ganar el osito gigante en el tiro al blanco pero fallaba siempre su papÃ¡ le dijo recuerda respirar profundo y apuntar con calma Daniela practicÃ³ respirÃ³ hondo cerrÃ³ un ojo apuntÃ³ y acertÃ³ tres veces el osito fue suyo compartiÃ³ su alegrÃ­a con sus compaÃ±eras que aplaudieron fuerte entendiÃ³ que la paciencia y la prÃ¡ctica logran lo imposible mientras comÃ­an algodÃ³n de azÃºcar y reÃ­an bajo las luces de colores.",preguntas:["Â¿Daniela ganÃ³ el osito?","Â¿Lo logrÃ³ sin practicar?"],respuestas:["SÃ­","No"]}
],
"4b":[
  {id:"4b-1",texto:"En el pueblo donde vivÃ­a MartÃ­n todos conocÃ­an al inventor del barrio un hombre creativo que construÃ­a objetos Ãºtiles en su taller un dÃ­a MartÃ­n entrÃ³ y vio un robot que ordenaba libros y regaba plantas observÃ³ atento cada movimiento mientras escuchaba las explicaciones y desde entonces soÃ±Ã³ con crear inventos que ayudaran a mejorar la vida de las personas.",preguntas:["Â¿HabÃ­a un inventor?","Â¿El robot regaba plantas?"],respuestas:["SÃ­","SÃ­"]},
  {id:"4b-2",texto:"Durante las vacaciones de verano Carla descubriÃ³ un libro mÃ¡gico en el Ã¡tico de su abuela el libro contenÃ­a historias de princesas guerreras dragones amigables y castillos flotantes cada noche antes de dormir leÃ­a una pÃ¡gina y soÃ±aba con esos mundos fantÃ¡sticos una noche el libro brillÃ³ y Carla entrÃ³ en su interior conociÃ³ a la princesa Luna que luchaba contra sombras oscuras juntas cabalgaron unicornios azules cruzaron rÃ­os de estrellas y derrotaron al rey de las tinieblas con una varita de luz al despertar Carla guardÃ³ el secreto pero desde entonces escribÃ­a sus propias aventuras inspirada por la magia que habÃ­a vivido.",preguntas:["Â¿Carla encontrÃ³ un libro mÃ¡gico?","Â¿Derrotaron al rey de las tinieblas?"],respuestas:["SÃ­","SÃ­"]},
  {id:"4b-3",texto:"El equipo de fÃºtbol del colegio 4Â° bÃ¡sico enfrentaba el campeonato comunal los Halcones estaban nerviosos porque su mejor jugador AndrÃ©s estaba enfermo pero el profesor les dijo el equipo es mÃ¡s que un jugador es corazÃ³n y uniÃ³n en el partido jugaron con estrategia pasaban el balÃ³n rÃ¡pido defendÃ­an juntos y aunque perdÃ­an 1-0 en el Ãºltimo minuto Mateo cabeceÃ³ un cÃ³rner y empataron gritaron de alegrÃ­a abrazados entendieron que ganar es aprender a luchar en equipo y asÃ­ celebraron con helados aunque no fueron campeones fueron los mÃ¡s felices.",preguntas:["Â¿AndrÃ©s jugÃ³ el partido?","Â¿Aprendieron sobre trabajo en equipo?"],respuestas:["No","SÃ­"]}
],
"5b":[
  {id:"5b-1",texto:"Durante una tarde lluviosa Camila decidiÃ³ leer un libro antiguo que encontrÃ³ en la biblioteca escolar a medida que avanzaba comprendiÃ³ nuevas palabras imaginÃ³ lugares distintos y descubriÃ³ que la lectura podÃ­a ser una aventura silenciosa pero profunda que despertaba emociones pensamientos y curiosidad por aprender mÃ¡s del mundo que la rodeaba.",preguntas:["Â¿Camila estaba en la biblioteca?","Â¿La lectura despertÃ³ curiosidad?"],respuestas:["SÃ­","SÃ­"]},
  {id:"5b-2",texto:"En el observatorio escolar de 5Â° bÃ¡sico los alumnos descubrieron un cometa nuevo que pasaba cerca de la Tierra el profesor explicÃ³ que estos cuerpos celestes viajan millones de kilÃ³metros desde el borde del sistema solar y regresan cada cierto tiempo los niÃ±os tomaron notas dibujaron trayectorias calcularon velocidades y bautizaron al cometa como Estrella Andina en honor a los cerros que rodeaban su ciudad durante semanas siguieron su recorrido nocturno escribieron diarios de observaciÃ³n y hasta organizaron una exposiciÃ³n donde explicaron a sus familias cÃ³mo funcionaba la Ã³rbita elÃ­ptica comprendieron que la ciencia no solo observa el cielo sino que conecta a las personas con el universo infinito que las rodea.",preguntas:["Â¿Descubrieron un cometa nuevo?","Â¿Lo llamaron Estrella Andina?"],respuestas:["SÃ­","SÃ­"]},
  {id:"5b-3",texto:"La expediciÃ³n al CajÃ³n del Maipo reuniÃ³ a los alumnos de 5Â° bÃ¡sico con mochilas llenas de mapas brÃºjulas y botellas de agua cruzaron esteros saltaron rocas y observaron cÃ³ndores planeando en el cielo el guÃ­a explicÃ³ cÃ³mo los mapuches leÃ­an las estrellas para orientarse y cÃ³mo los primeros exploradores espaÃ±oles se perdÃ­an en estos valles al acampar contaron leyendas del nahuel que protege las lagunas y recolectaron muestras de minerales para analizar en el laboratorio escolar cada niÃ±o escribiÃ³ su bitÃ¡cora de viaje entendiendo que la geografÃ­a no es solo mapas sino historias vivas de la tierra y quienes la habitan.",preguntas:["Â¿Fueron al CajÃ³n del Maipo?","Â¿Aprendieron sobre los mapuches?"],respuestas:["SÃ­","SÃ­"]}
],
"6b":[
  {id:"6b-1",texto:"A medida que avanzaba el aÃ±o escolar Diego aprendiÃ³ que organizar su tiempo le permitÃ­a estudiar con menos estrÃ©s participar en clases y disfrutar momentos de descanso entendiÃ³ que la responsabilidad no significaba perder libertad sino ganar confianza en sÃ­ mismo y mejorar su relaciÃ³n con los demÃ¡s.",preguntas:["Â¿Diego aprendiÃ³ a organizarse?","Â¿La responsabilidad le quitÃ³ confianza?"],respuestas:["SÃ­","No"]},
  {id:"6b-2",texto:"El proyecto de reciclaje del colegio 6Â° bÃ¡sico transformÃ³ el patio en un centro de innovaciÃ³n los alumnos clasificaron residuos crearon composteros de lombrices y diseÃ±aron maceteros con botellas plÃ¡sticas investigaron cÃ³mo el plÃ¡stico tarda 400 aÃ±os en degradarse y calcularon que su generaciÃ³n produce suficiente basura para llenar un estadio cada semana presentaron sus datos al municipio con grÃ¡ficos impactantes y propuestas concretas el concejal impresionado aprobÃ³ fondos para contenedores selectivos los niÃ±os sintieron el poder de la acciÃ³n colectiva entendiendo que pequeÃ±os cambios multiplicados generan transformaciones ambientales profundas en su comunidad.",preguntas:["Â¿Crearon composteros?","Â¿El municipio aprobÃ³ fondos?"],respuestas:["SÃ­","SÃ­"]},
  {id:"6b-3",texto:"Durante el taller de liderazgo los alumnos de 6Â° bÃ¡sico descubrieron que liderar no es mandar sino inspirar con acciones concretas organizaron la kermesse escolar dividiendo tareas segÃºn fortalezas algunos decoraron otros cocinaron tortas y algunos lideraron juegos aprendieron a delegar resolver conflictos y celebrar Ã©xitos colectivos cuando terminaron exhaustos pero felices el director les dijo han demostrado que el liderazgo se construye dÃ­a a dÃ­a con responsabilidad empatÃ­a y trabajo en equipo desde entonces miraban sus clases con nuevos ojos buscando oportunidades para influir positivamente.",preguntas:["Â¿Organizaron la kermesse?","Â¿Liderar es solo mandar?"],respuestas:["SÃ­","No"]}
],
"7b":[
  {id:"7b-1",texto:"Al enfrentar nuevos desafÃ­os acadÃ©micos Valentina descubriÃ³ que equivocarse era parte del aprendizaje cada error le permitiÃ³ reflexionar mejorar estrategias y fortalecer su perseverancia comprendiÃ³ que avanzar no siempre es rÃ¡pido pero sÃ­ posible cuando existe constancia apoyo y una actitud abierta frente a las dificultades.",preguntas:["Â¿Valentina aprendiÃ³ de los errores?","Â¿Rendirse fue su estrategia?"],respuestas:["SÃ­","No"]},
  {id:"7b-2",texto:"El debate presidencial escolar de 7Â° bÃ¡sico enfrentÃ³ a candidatos improvisados con propuestas serias sobre recreos mÃ¡s largos mejor alimentaciÃ³n y mÃ¡s tecnologÃ­a algunos prometÃ­an chocolate diario otros computadoras nuevas pero MarÃ­a presentÃ³ datos reales sobre nutriciÃ³n horas de sueÃ±o y salud visual convenciÃ³ a sus compaÃ±eros mostrando grÃ¡ficos comparativos y testimonios de expertos aunque no ganÃ³ el voto popular ganÃ³ respeto por su rigor analÃ­tico entendiÃ³ que la argumentaciÃ³n sÃ³lida pesa mÃ¡s que promesas vacÃ­as y que la democracia escolar enseÃ±a valores cÃ­vicos profundos desde temprana edad.",preguntas:["Â¿MarÃ­a usÃ³ datos reales?","Â¿GanÃ³ por promesas vacÃ­as?"],respuestas:["SÃ­","No"]},
  {id:"7b-3",texto:"La investigaciÃ³n sobre la Independencia de Chile llevÃ³ a los alumnos de 7Â° bÃ¡sico a reconstruir batallas con maquetas interactivas estudiaron estrategias militares motivaciones independentistas y consecuencias sociales visitaron el museo histÃ³rico donde tocaron rÃ©plicas de sables y caÃ±ones entrevistaron a historiadores locales y recrearon el discurso de O'Higgins en el patio escolar descubrieron que la historia no son fechas sino decisiones humanas complejas motivadas por ideales de libertad que aÃºn resuenan en su realidad cotidiana de estudiantes chilenos.",preguntas:["Â¿Reconstruyeron batallas?","Â¿La historia son solo fechas?"],respuestas:["SÃ­","No"]}
],
"8b":[
  {id:"8b-1",texto:"En la era de las redes sociales, los estudiantes de 8Â° bÃ¡sico deben aprender a identificar informaciÃ³n falsa que se viraliza rÃ¡pidamente en TikTok y WhatsApp. Influencers con miles de seguidores publican noticias inventadas sobre celebridades o gobiernos para ganar likes y ganar dinero con algoritmos que premian la controversia sobre la verdad. Un ejemplo reciente fue el rumor falso sobre un terremoto inminente en Santiago que generÃ³ pÃ¡nico masivo y compras compulsivas de supermercados. Verificar fuentes confiables como sitios oficiales, contrastar con medios reconocidos y aplicar la regla del sentido comÃºn ayuda a no caer en trampas digitales diseÃ±adas especÃ­ficamente para manipular emociones adolescentes.",preguntas:["Â¿Las redes premian la verdad?","Â¿Hay que verificar siempre?"],respuestas:["No","SÃ­"]},
  {id:"8b-2",texto:"El cambio climÃ¡tico ya afecta directamente a Chile con incendios forestales devastadores en el Valle Central, sequÃ­as prolongadas en la zona centro y deshielo acelerado en los glaciares patagÃ³nicos. En 2023, los incendios de ViÃ±a del Mar destruyeron mÃ¡s de 14 mil hectÃ¡reas y causaron 134 muertes, siendo el peor desastre registrado en el paÃ­s. Causas principales incluyen deforestaciÃ³n ilegal, urbanizaciÃ³n descontrolada en zonas de riesgo y olas de calor intensificadas por el efecto invernadero. Reducir emisiones requiere transporte pÃºblico elÃ©ctrico, reforestaciÃ³n nativa masiva y consumo responsable de plÃ¡sticos que contaminan ocÃ©anos del PacÃ­fico Sur donde vive el 90% de la vida marina.",preguntas:["Â¿Hubo incendios graves en Chile?","Â¿El cambio climÃ¡tico es falso?"],respuestas:["SÃ­","No"]},
  {id:"8b-3",texto:"La programaciÃ³n informÃ¡tica ya no es exclusiva de universidades tÃ©cnicas sino una habilidad bÃ¡sica para 8Â° bÃ¡sico en la era digital. Usando Scratch o Python simple, estudiantes crean videojuegos educativos, apps para reportar basura en el colegio y chatbots que responden dudas frecuentes de compaÃ±eros. En el colegio Los Halcones de Santiago, un equipo de octavos ganÃ³ concurso nacional desarrollando aplicaciÃ³n que detecta bullying mediante palabras clave en mensajes de WhatsApp escolar, alertando automÃ¡ticamente a orientadores. Comprender algoritmos bÃ¡sicos enseÃ±a lÃ³gica estructurada, resoluciÃ³n de problemas complejos y pensamiento computacional aplicable a matemÃ¡ticas, ciencias y hasta Ã©tica cotidiana.",preguntas:["Â¿La programaciÃ³n es solo para expertos?","Â¿Sirve para detectar bullying?"],respuestas:["No","SÃ­"]}
],
"1m":[
  {id:"1m-1",texto:"Durante la adolescencia, la lectura se convierte en un espacio privilegiado para explorar la identidad propia a travÃ©s de personajes que enfrentan dilemas similares: rupturas familiares, primeras desilusiones amorosas, presiones acadÃ©micas y bÃºsqueda de propÃ³sito personal. Novelas como 'Rayuela' de CortÃ¡zar o 'El tÃºnel' de SÃ¡bato permiten a los estudiantes de 1Â° medio identificarse con protagonistas complejos que cuestionan normas sociales, experimentan con rebeldÃ­a y construyen su visiÃ³n del mundo. Este proceso no solo desarrolla empatÃ­a hacia experiencias ajenas sino que facilita la verbalizaciÃ³n de emociones propias, crucial en una etapa donde la autoexpresiÃ³n suele ser limitada por vergÃ¼enza o falta de vocabulario emocional adecuado.",preguntas:["Â¿La lectura ayuda a explorar identidad?","Â¿Solo sirve para entretener?"],respuestas:["SÃ­","No"]},
  {id:"1m-2",texto:"El movimiento estudiantil chileno de 2011 transformÃ³ radicalmente la educaciÃ³n pÃºblica al visibilizar desigualdades estructurales que afectaban especialmente a liceos vulnerables de zonas perifÃ©ricas. Miles de estudiantes marcharon exigiendo educaciÃ³n gratuita y de calidad, no lucro en la educaciÃ³n y fin al copago, paralizando Santiago durante semanas con cacerolazos, tomas y asambleas masivas. Aunque la reforma educacional de Michelle Bachelet respondiÃ³ parcialmente con gratuidad progresiva para el 60% mÃ¡s vulnerable, persisten desafÃ­os: segregaciÃ³n escolar, deuda histÃ³rica de apoderados y formaciÃ³n docente insuficiente para metodologÃ­as inclusivas y socioemocionales demandadas por adolescentes post-pandemia.",preguntas:["Â¿El 2011 fue por educaciÃ³n gratuita?","Â¿Se resolvieron todos los problemas?"],respuestas:["SÃ­","No"]},
  {id:"1m-3",texto:"Las plataformas digitales han revolucionado la socializaciÃ³n adolescente al ofrecer espacios de expresiÃ³n anÃ³nima pero tambiÃ©n exponer a ciberacoso, adicciÃ³n a validaciÃ³n externa y distorsiÃ³n de autoimagen por filtros estÃ©ticos irreales. JÃ³venes de 1Â° medio navegan TikTok, Instagram y Discord simultÃ¡neamente, construyendo identidades fragmentadas que alternan entre memes irÃ³nicos, challenges virales y vulnerabilidad compartida en stories efÃ­meros. La escuela debe enseÃ±ar no solo 'no publicar fotos personales' sino alfabetizaciÃ³n digital crÃ­tica: reconocer algoritmos manipuladores, evaluar credibilidad de influencers y desarrollar resiliencia emocional ante hate speech y cancel culture que caracterizan las interacciones online de Gen Z chilena.",preguntas:["Â¿Las redes ayudan a la socializaciÃ³n?","Â¿La escuela enseÃ±a solo 'no publicar fotos'?"],respuestas:["SÃ­","No"]}
],
"2m":[
  {id:"2m-1",texto:"En el contexto de la globalizaciÃ³n digital del siglo XXI, la lectura trasciende su funciÃ³n tradicional de mero vehÃ­culo informativo para convertirse en herramienta indispensable de discernimiento crÃ­tico frente a la avalancha de contenidos efÃ­meros que saturan las redes sociales y plataformas de streaming. Los estudiantes de educaciÃ³n media superior enfrentan diariamente un bombardeo de narrativas fragmentadas, deepfakes sofisticados y titulares sensacionalistas diseÃ±ados algorÃ­tmicamente para capturar atenciÃ³n inmediata mÃ¡s que fomentar reflexiÃ³n profunda. Desarrollar competencias lectoras avanzadas permite no solo decodificar textos complejos â€”desde ensayos acadÃ©micos hasta manifiestos polÃ­ticosâ€” sino tambiÃ©n detectar sesgos implÃ­citos, reconstruir cadenas causales complejas y evaluar la solidez argumentativa mÃ¡s allÃ¡ de la retÃ³rica persuasiva.",preguntas:["Â¿La lectura ayuda frente a fake news?","Â¿Sirve solo para pÃ¡rrafos simples?"],respuestas:["SÃ­","No"]},
  {id:"2m-2",texto:"La transiciÃ³n energÃ©tica chilena hacia fuentes renovables enfrenta dilemas Ã©ticos y econÃ³micos complejos que demandan alfabetizaciÃ³n cientÃ­fica avanzada. Si bien la matriz hidroelÃ©ctrica tradicional proporcionÃ³ estabilidad durante dÃ©cadas, la dependencia de sequÃ­as extremas â€”agravadas por el cambio climÃ¡ticoâ€” obliga a priorizar solar y eÃ³lica en el norte Ã¡rido y eÃ³lico-patagÃ³nico. Sin embargo, comunidades mapuches en la AraucanÃ­a cuestionan megaproyectos hidroelÃ©ctricos por impacto territorial, mientras expertos advierten sobre intermitencia renovable sin almacenamiento masivo de baterÃ­as de litio. La ciudadanÃ­a educada debe comprender no solo kWh generados sino externalidades: huella hÃ­drica de paneles solares, reciclaje de turbinas eÃ³licas y soberanÃ­a energÃ©tica frente a China como proveedor dominante de tecnologÃ­a verde.",preguntas:["Â¿Chile depende solo de hidroelÃ©ctricas?","Â¿Las comunidades apoyan todos los proyectos?"],respuestas:["No","No"]},
  {id:"2m-3",texto:"El auge de la inteligencia artificial generativa transforma radicalmente tanto el mercado laboral como la concepciÃ³n humanista de la educaciÃ³n superior. Herramientas como los modelos de lenguaje predictivo no solo automatizan tareas administrativas y generaciÃ³n de informes sino que desafÃ­an la autorÃ­a intelectual al producir ensayos coherentes, poesÃ­a mÃ©trica y hasta cÃ³digo funcional a partir de prompts simples. Universidades chilenas enfrentan el reto de redefinir evaluaciÃ³n acadÃ©mica mÃ¡s allÃ¡ del texto escrito â€”pruebas orales, resoluciÃ³n de problemas en tiempo real, portafolios de proceso creativoâ€” mientras empresas tecnolÃ³gicas reclaman graduados capaces de entrenar, depurar y contextualizar outputs de IA mÃ¡s que memorizar hechos obsoletos. La pregunta filosÃ³fica central permanece: Â¿quÃ© habilidades permanecen intrÃ­nsecamente humanas cuando las mÃ¡quinas dominan la sÃ­ntesis informativa?",preguntas:["Â¿La IA reemplaza solo trabajos administrativos?","Â¿Las universidades deben cambiar evaluaciÃ³n?"],respuestas:["No","SÃ­"]}
]
};
let tiempo = 60, intervalo, intervaloFluidez, nivelActual = "", textoActual = "";

function toggleConfig() { document.getElementById('config').classList.toggle('hidden'); }
function toggleTheme() { document.body.classList.toggle('light'); }
function cambiarFuente(v) { document.documentElement.style.setProperty('--fontSize', v + 'rem'); }

function cargarTextos() {
  nivelActual = document.getElementById('nivel').value;
  if (!nivelActual) return;
  const textos = biblioteca[nivelActual];
  const contenedor = document.getElementById('textoSeleccionado');
  contenedor.innerHTML = '';
  if (!Array.isArray(textos)) { cargarTextoEspecifico(0); return; }
  textos.forEach((t, i) => {
    const btn = document.createElement('button');
    btn.textContent = t.id;
    btn.onclick = () => cargarTextoEspecifico(i);
    contenedor.appendChild(btn);
  });
  document.getElementById('lectura').classList.remove('hidden');
  document.getElementById('juego').classList.add('hidden');
  document.getElementById('editor').classList.toggle('hidden', !document.getElementById('modoDocente').checked);
  document.getElementById('timer').textContent = 60;
  document.getElementById('barra').style.width = '0%';
}

function cargarTextoEspecifico(index) {
  const textos = biblioteca[nivelActual];
  const texto = Array.isArray(textos) ? textos[index] : textos;
  textoActual = index;
  document.getElementById('texto').textContent = texto.texto;
  document.getElementById('editorTexto').value = texto.texto;
  document.getElementById('editorP1').value = texto.preguntas[0];
  document.getElementById('editorP2').value = texto.preguntas[1];
}

function iniciarLectura() {
  if (!document.getElementById('toggleTimer').checked) return;
  clearInterval(intervalo);
  tiempo = 60;
  intervalo = setInterval(() => {
    tiempo--;
    document.getElementById('timer').textContent = tiempo;
    document.getElementById('barra').style.width = (100 - (tiempo * 1.66)) + '%';
    if (tiempo <= 0) { clearInterval(intervalo); mostrarJuego(); }
  }, 1000);
}

function mostrarJuego() {
  document.getElementById('juego').classList.remove('hidden');
  const textos = biblioteca[nivelActual];
  const texto = Array.isArray(textos) ? textos[textoActual] : textos;
  document.getElementById('p1').textContent = 'â€¢ ' + texto.preguntas[0];
  document.getElementById('p2').textContent = 'â€¢ ' + texto.preguntas[1];
  if (document.getElementById('modoDocente').checked) {
    document.getElementById('respuestas').classList.remove('hidden');
    document.getElementById('respuestas').textContent = 'Respuestas: ' + texto.respuestas.join(' / ');
  } else {
    document.getElementById('respuestas').classList.add('hidden');
  }
}

function iniciarFluidez() {
  clearInterval(intervaloFluidez);
  const tipo = document.getElementById('tipoFluidez').value;
  
  let palabras = '';
  if (tipo === 'silabas') palabras = 'ma-pa-tu-ca-sa-la-mi-no-ra-do ';
  else if (tipo === 'palabras') palabras = 'sol luna casa perro gato niÃ±o mamÃ¡ papÃ¡ Ã¡rbol rio mar cielo sol ';
  else palabras = 'El sol brilla. La luna sale. El perro corre. La casa es grande. ';
  
  const cinta = document.getElementById('cintaFluidez');
  cinta.textContent = palabras.repeat(5);
  cinta.className = 'palabras-cinta palabras-cinta-animando'; // â† Activa animaciÃ³n
  
  document.getElementById('puntuacionFluidez').textContent = 'Â¡Leyendo!';
  document.getElementById('barraFluidez').style.width = '0%';
  
  let seg = 30;
  document.getElementById('timerFluidez').textContent = seg;
  
  intervaloFluidez = setInterval(() => {
    seg--;
    document.getElementById('timerFluidez').textContent = seg;
    document.getElementById('barraFluidez').style.width = (100 - (seg * 3.33)) + '%';
    if (seg <= 0) {
      clearInterval(intervaloFluidez);
      document.getElementById('puntuacionFluidez').textContent = 'Â¡Tiempo terminado!';
    }
  }, 1000);
}

function guardarEdicion() {
  const textos = biblioteca[nivelActual];
  if (Array.isArray(textos)) {
    textos[textoActual].texto = document.getElementById('editorTexto').value;
    textos[textoActual].preguntas[0] = document.getElementById('editorP1').value;
    textos[textoActual].preguntas[1] = document.getElementById('editorP2').value;
  } else {
    biblioteca[nivelActual].texto = document.getElementById('editorTexto').value;
    biblioteca[nivelActual].preguntas[0] = document.getElementById('editorP1').value;
    biblioteca[nivelActual].preguntas[1] = document.getElementById('editorP2').value;
  }
  alert('Cambios guardados');
}

function exportarJSON() {
  const data = JSON.stringify(biblioteca, null, 2);
  const blob = new Blob([data], { type: 'application/json' });
  const a = document.createElement('a');
  a.href = URL.createObjectURL(blob);
  a.download = 'biblioteca_lectura.json';
  a.click();
}

document.getElementById('nivel').addEventListener('change', () => {
  if (document.getElementById('modoDocente').checked && nivelActual) {
    document.getElementById('editor').classList.remove('hidden');
  }
});
function cambiarVelocidadCinta(segundos) {
  const cinta = document.querySelector('.palabras-cinta');
  if (cinta) {
    cinta.style.animationDuration = segundos + 's';
  }
  document.getElementById('valorVelocidad').textContent = segundos + ' seg';
  
  // Mensaje guÃ­a por velocidad
  let guia = '';
  if (segundos >= 200) guia = '(muy lento - 2Â° bÃ¡sico)';
  else if (segundos >= 120) guia = '(lento - 3Â°-5Â° bÃ¡sico)';
  else if (segundos >= 80) guia = '(medio - 6Â°-8Â° bÃ¡sico)';
  else guia = '(rÃ¡pido - medio)';
  
  document.getElementById('valorVelocidad').textContent = segundos + ' seg ' + guia;
}
function irLectura() {
  document.getElementById('fluidez').classList.add('hidden');
  document.getElementById('juego').classList.add('hidden');
  document.getElementById('lectura').classList.remove('hidden');
}
</script>
</body>
</html>


